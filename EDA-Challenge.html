<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Exercise 03: Explore and Wrangle Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="EDA-Challenge_files/libs/clipboard/clipboard.min.js"></script>
<script src="EDA-Challenge_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="EDA-Challenge_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="EDA-Challenge_files/libs/quarto-html/popper.min.js"></script>
<script src="EDA-Challenge_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="EDA-Challenge_files/libs/quarto-html/anchor.min.js"></script>
<link href="EDA-Challenge_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="EDA-Challenge_files/libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="EDA-Challenge_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="EDA-Challenge_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="EDA-Challenge_files/libs/bootstrap/bootstrap-81267100e462c21b3d6c0d5bf76a3417.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Exercise 03: Explore and Wrangle Data</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="setup" class="level4">
<h4 class="anchored" data-anchor-id="setup">Setup</h4>
<p>We can use tidyverse library for data import and wrangling.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="loading-the-dataset-and-inspecting-variables" class="level4">
<h4 class="anchored" data-anchor-id="loading-the-dataset-and-inspecting-variables">Loading the dataset and inspecting variables</h4>
<p>From the provided URL we can first load the data set into the object called “d”.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>f<span class="ot">&lt;-</span> <span class="st">"https://raw.githubusercontent.com/difiore/ada-datasets/main/data-wrangling.csv"</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>d<span class="ot">&lt;-</span> <span class="fu">read_csv</span>(f, <span class="at">col_names =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can take a quick look at the data we loaded and variables in it.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(d)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 23
  Scientific_Name             Family        Genus Species Brain_Size_Species_M…¹
  &lt;chr&gt;                       &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt;                    &lt;dbl&gt;
1 Allenopithecus_nigroviridis Cercopitheci… Alle… nigrov…                   58.0
2 Allocebus_trichotis         Cercopitheci… Allo… tricho…                   NA  
3 Alouatta_belzebul           Atelidae      Alou… belzeb…                   52.8
4 Alouatta_caraya             Atelidae      Alou… caraya                    52.6
5 Alouatta_guariba            Atelidae      Alou… guariba                   51.7
6 Alouatta_palliata           Atelidae      Alou… pallia…                   49.9
# ℹ abbreviated name: ¹​Brain_Size_Species_Mean
# ℹ 18 more variables: Body_mass_male_mean &lt;dbl&gt;, Body_mass_female_mean &lt;dbl&gt;,
#   MeanGroupSize &lt;dbl&gt;, AdultMales &lt;dbl&gt;, AdultFemale &lt;dbl&gt;,
#   GR_MidRangeLat_dd &lt;dbl&gt;, Precip_Mean_mm &lt;dbl&gt;, Temp_Mean_degC &lt;dbl&gt;,
#   HomeRange_km2 &lt;dbl&gt;, DayLength_km &lt;dbl&gt;, Fruit &lt;dbl&gt;, Leaves &lt;chr&gt;,
#   Fauna &lt;chr&gt;, Canine_Dimorphism &lt;dbl&gt;, Feed &lt;dbl&gt;, Move &lt;dbl&gt;, Rest &lt;dbl&gt;,
#   Social &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(d)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 23
  Scientific_Name         Family          Genus   Species Brain_Size_Species_M…¹
  &lt;chr&gt;                   &lt;chr&gt;           &lt;chr&gt;   &lt;chr&gt;                    &lt;dbl&gt;
1 Trachypithecus_obscurus Cercopithecidae Trachy… obscur…                   62.1
2 Trachypithecus_phayrei  Cercopithecidae Trachy… phayrei                   72.8
3 Trachypithecus_pileatus Cercopithecidae Trachy… pileat…                  104. 
4 Trachypithecus_vetulus  Cercopithecidae Trachy… vetulus                   61.3
5 Varecia_rubra           Lemuridae       Varecia rubra                     31.1
6 Varecia_variegata       Lemuridae       Varecia varieg…                   32.1
# ℹ abbreviated name: ¹​Brain_Size_Species_Mean
# ℹ 18 more variables: Body_mass_male_mean &lt;dbl&gt;, Body_mass_female_mean &lt;dbl&gt;,
#   MeanGroupSize &lt;dbl&gt;, AdultMales &lt;dbl&gt;, AdultFemale &lt;dbl&gt;,
#   GR_MidRangeLat_dd &lt;dbl&gt;, Precip_Mean_mm &lt;dbl&gt;, Temp_Mean_degC &lt;dbl&gt;,
#   HomeRange_km2 &lt;dbl&gt;, DayLength_km &lt;dbl&gt;, Fruit &lt;dbl&gt;, Leaves &lt;chr&gt;,
#   Fauna &lt;chr&gt;, Canine_Dimorphism &lt;dbl&gt;, Feed &lt;dbl&gt;, Move &lt;dbl&gt;, Rest &lt;dbl&gt;,
#   Social &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(d)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 213  23</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(d)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>spc_tbl_ [213 × 23] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
 $ Scientific_Name        : chr [1:213] "Allenopithecus_nigroviridis" "Allocebus_trichotis" "Alouatta_belzebul" "Alouatta_caraya" ...
 $ Family                 : chr [1:213] "Cercopithecidae" "Cercopithecidae" "Atelidae" "Atelidae" ...
 $ Genus                  : chr [1:213] "Allenopithecus" "Allocebus" "Alouatta" "Alouatta" ...
 $ Species                : chr [1:213] "nigroviridis" "trichotis" "belzebul" "caraya" ...
 $ Brain_Size_Species_Mean: num [1:213] 58 NA 52.8 52.6 51.7 ...
 $ Body_mass_male_mean    : num [1:213] 6130 92 7270 6525 5800 ...
 $ Body_mass_female_mean  : num [1:213] 3180 84 5520 4240 4550 5350 6430 5210 1230 NA ...
 $ MeanGroupSize          : num [1:213] NA 1 7 8 6.53 12 6.6 7.1 3.1 3 ...
 $ AdultMales             : num [1:213] NA 1 1 2.3 1.37 ...
 $ AdultFemale            : num [1:213] NA 1 1 3.3 2.2 ...
 $ GR_MidRangeLat_dd      : num [1:213] -0.17 -16.59 -6.8 -20.34 -21.13 ...
 $ Precip_Mean_mm         : num [1:213] 1574 1902 1644 1166 1332 ...
 $ Temp_Mean_degC         : num [1:213] 25.2 20.3 24.9 22.9 19.6 23.7 25.1 25.1 24.6 NA ...
 $ HomeRange_km2          : num [1:213] NA NA NA NA 0.03 0.19 0.3 0.1 0.095 NA ...
 $ DayLength_km           : num [1:213] NA NA NA 0.4 NA 0.32 NA 0.55 NA NA ...
 $ Fruit                  : num [1:213] NA NA 57.3 23.8 5.2 33.1 40.8 40 45 NA ...
 $ Leaves                 : chr [1:213] NA NA "19.1" "67.7" ...
 $ Fauna                  : chr [1:213] NA NA "0" "0" ...
 $ Canine_Dimorphism      : num [1:213] 2.21 NA 1.81 1.54 1.78 ...
 $ Feed                   : num [1:213] NA NA 13.8 15.9 18.3 ...
 $ Move                   : num [1:213] NA NA 18.8 17.6 14.3 ...
 $ Rest                   : num [1:213] NA NA 57.3 61.6 64.4 ...
 $ Social                 : num [1:213] NA NA 10 4.9 3 3.64 3.8 2.5 NA NA ...
 - attr(*, "spec")=
  .. cols(
  ..   Scientific_Name = col_character(),
  ..   Family = col_character(),
  ..   Genus = col_character(),
  ..   Species = col_character(),
  ..   Brain_Size_Species_Mean = col_double(),
  ..   Body_mass_male_mean = col_double(),
  ..   Body_mass_female_mean = col_double(),
  ..   MeanGroupSize = col_double(),
  ..   AdultMales = col_double(),
  ..   AdultFemale = col_double(),
  ..   GR_MidRangeLat_dd = col_double(),
  ..   Precip_Mean_mm = col_double(),
  ..   Temp_Mean_degC = col_double(),
  ..   HomeRange_km2 = col_double(),
  ..   DayLength_km = col_double(),
  ..   Fruit = col_double(),
  ..   Leaves = col_character(),
  ..   Fauna = col_character(),
  ..   Canine_Dimorphism = col_double(),
  ..   Feed = col_double(),
  ..   Move = col_double(),
  ..   Rest = col_double(),
  ..   Social = col_double()
  .. )
 - attr(*, "problems")=&lt;externalptr&gt; </code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Listing variable names</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(d)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "Scientific_Name"         "Family"                 
 [3] "Genus"                   "Species"                
 [5] "Brain_Size_Species_Mean" "Body_mass_male_mean"    
 [7] "Body_mass_female_mean"   "MeanGroupSize"          
 [9] "AdultMales"              "AdultFemale"            
[11] "GR_MidRangeLat_dd"       "Precip_Mean_mm"         
[13] "Temp_Mean_degC"          "HomeRange_km2"          
[15] "DayLength_km"            "Fruit"                  
[17] "Leaves"                  "Fauna"                  
[19] "Canine_Dimorphism"       "Feed"                   
[21] "Move"                    "Rest"                   
[23] "Social"                 </code></pre>
</div>
</div>
</section>
<section id="step-1" class="level4">
<h4 class="anchored" data-anchor-id="step-1">Step 1</h4>
</section>
<section id="creating-new-variables" class="level4">
<h4 class="anchored" data-anchor-id="creating-new-variables">Creating new variables</h4>
</section>
<section id="bsd-body-size-dimorphism---ratio-of-average-male-to-female-body-mass." class="level4">
<h4 class="anchored" data-anchor-id="bsd-body-size-dimorphism---ratio-of-average-male-to-female-body-mass."><strong>1) BSD (body size dimorphism) - Ratio of average male to female body mass.</strong></h4>
</section>
<section id="sex_ratio---ratio-of-the-number-of-adult-females-to-adult-males-in-a-typical-group." class="level4">
<h4 class="anchored" data-anchor-id="sex_ratio---ratio-of-the-number-of-adult-females-to-adult-males-in-a-typical-group."><strong>2) sex_ratio - Ratio of the number of adult females to adult males in a typical group.</strong></h4>
</section>
<section id="di-for-defensibility-index---ratio-of-day-range-length-to-the-diameter-of-the-home-range." class="level4">
<h4 class="anchored" data-anchor-id="di-for-defensibility-index---ratio-of-day-range-length-to-the-diameter-of-the-home-range."><strong>3) DI (for “defensibility index”) - Ratio of day range length to the diameter of the home range.</strong></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">#BSD (body size dimorphism) - Ratio of average male to female body mass</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>d<span class="sc">$</span>BSD<span class="ot">&lt;-</span>d<span class="sc">$</span>Body_mass_male_mean<span class="sc">/</span>d<span class="sc">$</span>Body_mass_female_mean</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>d<span class="sc">$</span>BSD</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [1] 1.9276730 1.0952381 1.3170290 1.5389151 1.2747253 1.3364486 1.7729393
  [8] 1.2840691 0.9593496        NA 1.0512498 1.0179487 0.8413462 1.1190400
 [15] 1.0143266 1.0196078 0.9252275 0.9705240 1.0672154 1.0520446 0.8462127
 [22] 1.0910633 1.1908302 1.1191339 1.1979167 1.1660517 1.0902090 1.0582524
 [29] 1.0669456 0.9202899 1.0578512 1.0662393 0.9166667        NA        NA
 [36] 0.9473684 0.9875776        NA 1.1029836 0.9016393 1.3886463 1.3590454
 [43] 1.3485738 1.2262940 1.2527346 1.6784452 1.8269962 1.7218182 1.7741935
 [50] 1.6372275 1.5607032 1.6666667 1.4895833 1.3333333 1.2413793 1.6339286
 [57] 1.7304348 1.6401469 1.7215514 1.7796610 1.5657277 1.4735111 1.4689655
 [64]        NA 1.7576531 1.3623693 1.2099448 1.0071942 1.0472973 1.4478447
 [71] 1.4182001 1.3307027 1.2787318 1.2887711 1.1927711 1.4016173 1.1662050
 [78] 1.0522088 1.9076923 1.0477861 1.0093897        NA 1.1851852 0.9642995
 [85] 0.9670782 0.8921576 1.0206186 0.9559471 1.0218579 1.0996169 0.9764151
 [92] 1.0163043 1.0654255 1.0424077 1.0875912 1.6666667 2.3832168        NA
 [99] 1.1164179 0.9816147 1.6538462 1.0103093 0.9577703 1.0795964 1.0528000
[106] 0.9371080 1.0110294 0.8523392 1.0370370 1.0000000 0.8714286        NA
[113] 1.0367893 0.8851571 0.9935760 1.0387205        NA        NA 1.0037360
[120] 1.3128120 1.3611111 0.9814126 0.9948187 1.4523810 1.6376812 1.2145749
[127] 1.4168112 1.3661270 1.3690764 1.3958381 1.6978682 1.8080439 1.6153846
[134] 1.6371865 1.4590164 1.7750000 1.5096416 1.6000000 1.4000000 2.6875000
[141] 0.9375000 1.0333333 1.0238095 1.2435897 0.9967949 1.9930727 1.0223097
[148] 1.0122951        NA 1.0784314 1.0846645 1.2287234 1.0720721 1.0817439
[155] 1.3554217 1.2279106 1.7293233 1.8583333 1.7475728 2.0135135 0.9241848
[162] 0.9371429 1.0182704 1.0622711        NA        NA 1.3171122 1.0869565
[169] 1.2278481 2.0531375 2.1689338 0.9955291 0.9981269 1.1190476 0.9848283
[176] 0.9440454 0.9742351 0.9277014 0.9442897 0.9832215 1.3033175        NA
[183]        NA 1.5431034 0.9953488 1.0201715 0.9343189 0.9978947 0.9461967
[190] 0.9052453 1.1697026 1.0270270 0.9359694        NA 1.3600000 1.3191176
[197] 1.1515152 1.6000000 1.1092437 1.0406504        NA 1.1452991 1.6239316
[204]        NA 1.1103025 1.1368421 1.0714286 1.0860484 1.0815650 1.0799824
[211] 1.4444444 1.0778443 1.0312500</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">#sex_ratio - Ratio of the number of adult females to adult males in a typical group</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>d<span class="sc">$</span>sex_ratio<span class="ot">&lt;-</span>d<span class="sc">$</span>AdultFemale<span class="sc">/</span>d<span class="sc">$</span>AdultMales</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>d<span class="sc">$</span>sex_ratio</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [1]         NA  1.0000000  1.0000000  1.4347826  1.6058394  2.1724138
  [7]  1.1298701  1.2941176  1.0000000  1.0000000         NA  1.0000000
 [13]  1.0000000  1.0000000  1.0000000         NA  2.0588235         NA
 [19]         NA  0.5750000  1.0000000  1.0000000  1.0142857         NA
 [25]  1.0000000         NA         NA         NA  1.0000000  1.0000000
 [31]  1.0000000  2.0000000         NA  1.6666667  0.5000000  1.1785714
 [37]  1.2608696  0.5000000  0.6666667  0.6666667  1.7105263  1.3611111
 [43]  1.4705882  1.9714286         NA  3.7500000  4.7500000         NA
 [49]  2.7777778         NA  8.5000000  4.0000000  3.0000000  7.0000000
 [55]         NA         NA         NA  8.8000000  1.9000000  1.0000000
 [61]  5.0000000  4.8879310  5.0000000         NA         NA         NA
 [67]  1.0000000  1.0000000  6.0000000  1.8780488         NA         NA
 [73]  2.0000000  1.9333333  1.0000000  2.6086957         NA  1.0000000
 [79]  6.9333333  0.8571429         NA  0.8333333  0.9079903  1.1666667
 [85]  0.9117647  1.0000000  1.0000000  0.6341463  0.9466667         NA
 [91]         NA  1.0000000  1.0000000         NA         NA         NA
 [97]  2.4444444         NA  1.0000000         NA  1.0000000  1.0000000
[103]  1.1111111  1.0000000         NA         NA  1.0000000  1.0000000
[109]  1.1232877  1.2307692  0.6250000         NA  0.8333333  1.0000000
[115]         NA  1.0000000         NA  1.0000000  1.0000000  1.8139535
[121]         NA         NA  1.0000000         NA         NA         NA
[127]  2.2553191  5.1470588         NA  5.2888889  6.2083333  3.4827586
[133]         NA  1.2125000  2.2903226  2.2962963  1.4893617  2.4444444
[139]         NA         NA  1.0000000  1.0000000  1.0000000  2.0000000
[145]  1.0000000  3.7000000         NA         NA         NA         NA
[151]  1.0000000  1.0000000         NA         NA  1.5571429  2.8965517
[157]  2.4305556  2.7714286  8.2000000  2.0746269  1.0000000  1.0000000
[163]  1.9148936  5.1730769         NA  5.9606299  2.8571429         NA
[169]  2.0000000         NA  1.0000000  1.1666667  6.0000000  1.6500000
[175]         NA         NA  1.2500000  0.9863014         NA  1.6470588
[181]  2.8461538         NA         NA         NA         NA  0.6842105
[187]  0.8750000  1.0000000         NA         NA  0.9090909         NA
[193]  0.6296296  0.6000000         NA  0.8900000  1.8372093  6.3888889
[199]  1.0000000         NA         NA         NA  2.7333333  6.1666667
[205] 15.6000000  3.1764706  2.3846154  2.8000000         NA  3.3809524
[211]  3.8000000         NA  0.5680000</code></pre>
</div>
</div>
<p>We need a calculation here, to get the diameter of the home range to be derived from HomeRange_km2 in order to get the new variable “DI (defensibility index)”</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>d<span class="sc">$</span>HomeRange_diameter <span class="ot">&lt;-</span> <span class="dv">2</span> <span class="sc">*</span> <span class="fu">sqrt</span>(d<span class="sc">$</span>HomeRange_km2 <span class="sc">/</span> pi)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>d<span class="sc">$</span>HomeRange_diameter</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [1]         NA         NA         NA         NA 0.19544100 0.49184908
  [7] 0.61803872 0.35682482 0.34778982         NA         NA         NA
 [13] 0.36563664 0.15957691         NA         NA 1.70381518         NA
 [19] 0.96408758 1.31590493 0.11283792 0.11283792 1.15072548 0.72515373
 [25] 2.58544147         NA         NA         NA 0.29854107 0.24462677
 [31] 0.60765078 0.63830765         NA 0.31915382         NA 0.35682482
 [37] 0.15957691         NA 0.11283792 0.05046265 0.82147243 1.05851349
 [43] 0.66755812 1.47122644         NA         NA 0.80582391         NA
 [49]         NA         NA 0.45135167 0.11283792 0.55279064 1.26156626
 [55]         NA         NA         NA 0.35682482         NA 0.27639532
 [61] 1.21005185         NA 1.21005185         NA         NA         NA
 [67] 0.15957691 0.15957691 1.69256875         NA         NA         NA
 [73] 2.17341177 0.61803872 0.79788456 1.86097060 0.60765078 0.67325573
 [79] 5.99635596 0.40684289         NA 0.94406974 0.39573787 0.45416385
 [85] 0.25977239 0.23124892 0.50462650 0.86230615 0.29854107         NA
 [91]         NA 0.22567583 0.31915382 0.11283792 0.11283792         NA
 [97] 2.26520537 0.51708829 0.11283792         NA 0.88848664 0.60765078
[103] 0.63830765 0.63830765 0.39088201 0.57536274 0.54115164 0.39088201
[109] 1.89487084 0.25231325 0.55279064 1.02800235 0.57536274         NA
[115] 0.10092530 0.05046265         NA 0.06180387 0.10092530 1.58777023
[121] 0.65795246         NA 0.09440697         NA         NA         NA
[127] 0.76530399 1.34934523         NA 2.74314522 1.49270533         NA
[133]         NA 1.05851349 1.05851349 0.71364965 1.82992350         NA
[139]         NA 5.79112507 0.11283792         NA 0.11283792 1.00925301
[145] 0.19544100 2.17926215 1.05248202         NA         NA         NA
[151]         NA         NA 0.27639532 0.39088201 5.96335312 3.71680630
[157] 2.47986834 4.36290399 4.70278331 3.40763036 0.37424103 0.15957691
[163] 0.73127328 0.64426399 0.70467256 0.37930999 0.90972837         NA
[169] 0.40370120         NA 2.22264919 0.69557963 0.39088201 0.84440165
[175]         NA         NA 0.51708829 2.25675833 0.27639532 0.19544100
[181]         NA 3.56824823 5.64189584 5.56005901         NA 0.50462650
[187] 0.45135167 0.52925674         NA 0.25231325 0.51708829         NA
[193] 0.27639532         NA         NA 0.35682482 0.93048530 1.28655020
[199] 0.63128756 0.22567583 0.07136496 0.24721549 1.21530156 0.19544100
[205] 0.39088201 1.68124709 0.31915382 0.64820448 1.10442903 0.73992770
[211] 0.15957691         NA 1.33033942</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co">#DI (for “defensibility index”) - Ratio of day range length to the diameter of the home range</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>d<span class="sc">$</span>DI <span class="ot">&lt;-</span> d<span class="sc">$</span>DayLength_km<span class="sc">/</span>d<span class="sc">$</span>HomeRange_diameter</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>d<span class="sc">$</span>DI</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  [1]         NA         NA         NA         NA         NA  0.6506061
  [7]         NA  1.5413726         NA         NA         NA         NA
 [13]  1.9363486  4.1359367         NA         NA  1.3499117         NA
 [19]  1.7633253  1.8238400  4.0766439         NA  0.7821153  1.7375626
 [25]  1.4504293         NA         NA         NA  1.8422926  2.8206234
 [31]  1.3165457  3.1332853         NA         NA         NA  3.1387951
 [37]  5.5145822         NA  8.8622693  5.7468246  2.1911873  1.9839143
 [43]  2.9959938  1.5633216         NA         NA  1.4891591         NA
 [49]         NA         NA  3.3233510         NA         NA  1.2682647
 [55]         NA         NA         NA  2.8024956         NA  1.5195626
 [61]  1.2396163         NA  1.4462190         NA         NA         NA
 [67]         NA         NA  1.4770449         NA         NA         NA
 [73]  0.4522843  0.7766504  0.7143891  0.3261739         NA  4.3816931
 [79]  0.5336574  2.4149371         NA  2.6481094  2.3045558  0.9842263
 [85]         NA  3.0789334  0.8798587  0.9828296  2.5390142         NA
 [91]         NA         NA         NA         NA 15.5975939         NA
 [97]  0.3796565  0.7735623  3.8107758         NA         NA  2.1393867
[103]  2.3499640  2.5066283  3.5816435  1.5642306  2.4022841  0.6395792
[109]  0.5805145  3.5669946         NA         NA  2.5027690         NA
[115]         NA         NA         NA         NA         NA  0.7557769
[121]         NA         NA         NA         NA         NA         NA
[127]  1.9600055  0.6892232         NA  0.5832721  1.2058643         NA
[133]         NA  1.6532619  1.5398954         NA  0.9093276         NA
[139]         NA  0.5180341         NA         NA         NA  2.3779964
[145]         NA  0.2982661  1.2351755         NA         NA         NA
[151]         NA         NA         NA         NA  0.4024581  1.0223831
[157]  1.8549372  1.3523103  2.3390404  1.6433707         NA         NA
[163]  0.7521128  1.6204537         NA  1.4025468  0.7133998         NA
[169]  3.7156193         NA  0.2249568  0.7188250  2.2513188  1.4353359
[175]         NA         NA         NA         NA         NA  4.3491385
[181]         NA         NA  0.2321915         NA         NA  3.1706618
[187]         NA  3.8922508         NA         NA  3.5777255         NA
[193]  6.8742119         NA         NA  9.5284851  1.9344744  0.3886362
[199]  1.1880481  7.9760423         NA  5.5821745  2.0571026         NA
[205]  0.8954109         NA         NA  0.7405071  0.9054452  0.4392321
[211]         NA         NA  0.7674733</code></pre>
</div>
</div>
<p>Since a division is included we must make sure that the rows where the relavant denominator is zero the new variable is INF. To check this,</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(<span class="fu">is.infinite</span>(d<span class="sc">$</span>BSD)) <span class="co"># Checking whether denominator zeros have given any INF</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>integer(0)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(<span class="fu">is.infinite</span>(d<span class="sc">$</span>sex_ratio))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>integer(0)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(<span class="fu">is.infinite</span>(d<span class="sc">$</span>DI))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>integer(0)</code></pre>
</div>
</div>
<p>There is no any instances as INF. So there are no divisions by zero and the numerator N/A values will produce a N/A value for new variable as well naturally.</p>
</section>
<section id="plotting-the-relationship-between-day-range-length-and-time-spent-moving" class="level4">
<h4 class="anchored" data-anchor-id="plotting-the-relationship-between-day-range-length-and-time-spent-moving">4) Plotting the relationship between day range length and time spent moving</h4>
<p>First trying out ggplot2 to visualize this relationship.</p>
<p>The reason for choosing ggplot2 for this plot is we can use faceting by family to generate one plot per family. So our comparison between families would be easy.Using a scatterplot because both are continuous variables,</p>
<p><strong>Explaining the layers and parameters used :</strong></p>
<p>1) Aesthetics layer - Mapping given variables to X (Time spent moving) and Y (Day range length) axis,</p>
<p>2) Geometry layers - To customize the plot, defining alpha= 0.5 (opacity of the points), color=black, size=4 , na.rm =TRUE to drop rows with missing values for the plotted variables. Opasity is set at 0.5 to see overlapping points.</p>
<p>3) geom_smooth() to show where the trend of all points are lying generally.</p>
<p>3) Using labs() to set the X- and Y-axis labels.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Overall plot (representing all species)</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> Move, <span class="at">y =</span> DayLength_km))</span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span>p<span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">alpha=</span><span class="fl">0.5</span>,<span class="at">color=</span><span class="st">"black"</span>,<span class="at">size=</span><span class="dv">4</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span>p<span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">na.em=</span><span class="cn">TRUE</span>)</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span>p<span class="sc">+</span><span class="fu">labs</span>(<span class="at">x=</span><span class="st">"Time spent moving"</span>, <span class="at">y=</span><span class="st">"Day range length"</span>)</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="EDA-Challenge_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Should we transform values?</strong></p>
<p>The above plotted values seems to be skewed to a certain direction of the plot. Therefore, we can use log values of the variables for the plot. If we convert the values to log values, the minus(-) values for day range length variable will indicate the values between 0 and 1.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Overall plot (representing all species) - Now using log() values</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>d<span class="ot">&lt;-</span>d[ <span class="fu">is.finite</span>(<span class="fu">log</span>(d<span class="sc">$</span>Move)) <span class="sc">&amp;</span> <span class="fu">is.finite</span>(<span class="fu">log</span>(d<span class="sc">$</span>DayLength_km)), ] <span class="co"># Removing invalid values after log convrersion</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log</span>(Move), <span class="at">y =</span> <span class="fu">log</span>(DayLength_km)))</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span>p<span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">alpha=</span><span class="fl">0.5</span>,<span class="at">color=</span><span class="st">"black"</span>,<span class="at">size=</span><span class="dv">4</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span>p<span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">method =</span> lm, <span class="at">se =</span> <span class="cn">FALSE</span>,<span class="at">na.em=</span><span class="cn">TRUE</span>)</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span>p<span class="sc">+</span><span class="fu">labs</span>(<span class="at">x=</span><span class="st">"log(Time spent moving)"</span>, <span class="at">y=</span><span class="st">"log(Day range length)"</span>)</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="EDA-Challenge_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="by-family-comparison" class="level4">
<h4 class="anchored" data-anchor-id="by-family-comparison">By family comparison</h4>
<p>1) <strong>Approach 1</strong>: First using the aesthetic mapping inside geom_point() to show different families.Defining it inside the geometry layer does not affect other layers.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotting all species in one plot with dfferent color for each</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>d<span class="ot">&lt;-</span>d[ <span class="fu">is.finite</span>(<span class="fu">log</span>(d<span class="sc">$</span>Move)) <span class="sc">&amp;</span> <span class="fu">is.finite</span>(<span class="fu">log</span>(d<span class="sc">$</span>DayLength_km)), ] <span class="co"># Removing invalid values after log convrersion</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log</span>(Move), <span class="at">y =</span> <span class="fu">log</span>(DayLength_km)))</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span>p<span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">alpha=</span><span class="fl">0.5</span>,<span class="fu">aes</span>(<span class="at">color=</span>Family),<span class="at">size=</span><span class="dv">4</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span>p<span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">method =</span> lm, <span class="at">se =</span> <span class="cn">FALSE</span>,<span class="at">na.em=</span><span class="cn">TRUE</span>)</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span>p<span class="sc">+</span><span class="fu">labs</span>(<span class="at">x=</span><span class="st">"log(Time spent moving)"</span>, <span class="at">y=</span><span class="st">"log(Day range length)"</span>)</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="EDA-Challenge_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>2) <strong>Approach 2</strong>- Now, we are using facet_wrap() layer in ggplot2 to visualize families in a separate plot</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using a separate plot t represent one family</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>d<span class="ot">&lt;-</span>d[ <span class="fu">is.finite</span>(<span class="fu">log</span>(d<span class="sc">$</span>Move)) <span class="sc">&amp;</span> <span class="fu">is.finite</span>(<span class="fu">log</span>(d<span class="sc">$</span>DayLength_km)), ] <span class="co"># Removing invalid values after log convrersion</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log</span>(Move), <span class="at">y =</span> <span class="fu">log</span>(DayLength_km)))</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span>p<span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">alpha=</span><span class="fl">0.5</span>,<span class="fu">aes</span>(<span class="at">color=</span><span class="fu">factor</span>(Family)),<span class="at">size=</span><span class="dv">2</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span>p<span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">method =</span> lm, <span class="at">se =</span> <span class="cn">FALSE</span>,<span class="at">na.em=</span><span class="cn">TRUE</span>)</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span>p<span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="sc">~</span> Family)</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span>p<span class="sc">+</span><span class="fu">labs</span>(<span class="at">x=</span><span class="st">"log(Time spent moving)"</span>, <span class="at">y=</span><span class="st">"log(Day range length)"</span>)</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="EDA-Challenge_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This approach is good for identifying patterns separate for each family.</p>
<p><strong>Do species that spend more time moving travel farther overall? How about within any particular primate family?</strong></p>
<ul>
<li><p>Looking at above plots, we can say that the relationship between x and y variables are not very strong. But, considering overall the slope of the line upwards tell us that species spend more time moving likely to have longer day range lengths.</p></li>
<li><p>Above overall conclusion varies slightly if we consider families separately. Atelidae family show a considerable good positive relationship, from which we can tell that the species spend more time moving generally travel farther within a day.</p></li>
<li><p>Cebidae and Hylobatidae also show a positive trend, but we cannot say exactly it is a positive relationship because they have very small sample sizes. similar observation with Indriidae.</p></li>
<li><p>Cercopithecidae and and Lemuridae shows a flat relationship while only Hominidae shows a negative relationship which tells us that the time they spent moving is less allocated to move farther away or the time they spent moving is not necessarily for travelling farther away respectively.</p></li>
</ul>
</section>
<section id="plotting-the-relationship-between-day-range-length-and-group-size" class="level4">
<h4 class="anchored" data-anchor-id="plotting-the-relationship-between-day-range-length-and-group-size">5) Plotting the relationship between day range length and group size</h4>
<p>Applying same considerations applied for above plot. We can transform these variables into log values to avoid the skewness of data points in the plot and to get a clear wide spread visualization.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Overall plot (all species)</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>d<span class="ot">&lt;-</span>d[ <span class="fu">is.finite</span>(<span class="fu">log</span>(d<span class="sc">$</span>MeanGroupSize)) <span class="sc">&amp;</span> <span class="fu">is.finite</span>(<span class="fu">log</span>(d<span class="sc">$</span>DayLength_km)), ] <span class="co"># Removing invalid values after log convrersion</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log</span>(MeanGroupSize), <span class="at">y =</span> <span class="fu">log</span>(DayLength_km)))</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span>p<span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">alpha=</span><span class="fl">0.5</span>,<span class="at">color=</span><span class="st">"black"</span>,<span class="at">size=</span><span class="dv">4</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span>p<span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">method =</span> lm, <span class="at">se =</span> <span class="cn">FALSE</span>,<span class="at">na.em=</span><span class="cn">TRUE</span>)</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span>p<span class="sc">+</span><span class="fu">labs</span>(<span class="at">x=</span><span class="st">"log(Mean Group Size)"</span>, <span class="at">y=</span><span class="st">"log(Day range length)"</span>)</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="EDA-Challenge_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using a separate plot t represent one family</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>d<span class="ot">&lt;-</span>d[ <span class="fu">is.finite</span>(<span class="fu">log</span>(d<span class="sc">$</span>MeanGroupSize)) <span class="sc">&amp;</span> <span class="fu">is.finite</span>(<span class="fu">log</span>(d<span class="sc">$</span>DayLength_km)), ] <span class="co"># Removing invalid values after log convrersion</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log</span>(MeanGroupSize), <span class="at">y =</span> <span class="fu">log</span>(DayLength_km)))</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span>p<span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">alpha=</span><span class="fl">0.5</span>,<span class="fu">aes</span>(<span class="at">color=</span><span class="fu">factor</span>(Family)),<span class="at">size=</span><span class="dv">2</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span>p<span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">method =</span> lm, <span class="at">se =</span> <span class="cn">FALSE</span>,<span class="at">na.em=</span><span class="cn">TRUE</span>)</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span>p<span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="sc">~</span> Family)</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span>p<span class="sc">+</span><span class="fu">labs</span>(<span class="at">x=</span><span class="st">"log(Mean Group Size)"</span>, <span class="at">y=</span><span class="st">"log(Day range length)"</span>)</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="EDA-Challenge_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(d<span class="sc">$</span>Family)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Atelidae"        "Cebidae"         "Cercopithecidae" "Lemuridae"      
[5] "Hominidae"       "Hylobatidae"     "Indriidae"      </code></pre>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(d<span class="sc">$</span>Species)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "caraya"       "palliata"     "seniculus"    "belzebuth"    "geoffroyi"   
 [6] "arachnoides"  "goeldii"      "jacchus"      "capucinus"    "galeritus"   
[11] "ascanius"     "diana"        "mitis"        "aethiops"     "angolensis"  
[16] "guereza"      "polykomos"    "satanas"      "albifrons"    "collaris"    
[21] "coronatus"    "fulvus"       "mongoz"       "rubriventer"  "rufus"       
[26] "sanfordi"     "gorilla"      "lar"          "indri"        "lagotricha"  
[31] "albigena"     "fascicularis" "fuscata"      "mulatta"      "nigra"       
[36] "sylvanus"     "paniscus"     "troglodytes"  "anubis"       "cynocephalus"
[41] "hamadryas"    "ursinus"      "badius"       "kirkii"       "rufomitratus"
[46] "tephrosceles" "pygmaeus"     "fuscicollis"  "mystax"       "entellus"    
[51] "syndactylus"  "gelada"       "variegata"   </code></pre>
</div>
</div>
<p><strong>Do species that live in larger groups travel farther, overall, in a day? How about within any particular primate family?</strong></p>
<ul>
<li><p>Overall there is a positive relationship between group size and day range length. This tells us that who is living in larger groups tend to travel farther per day.</p></li>
<li><p>When looking at the relationship within individual primate families, the pattern is not so consistant.</p></li>
<li><p>Cercopithecidae show a clear positive relationship telling us that species with larger group sizes tend to have longer day ranges even within the family.</p></li>
<li><p>Atelidae and Hominidae also shows a positive trend, but these have very few data points. Therefore, hard to exactly predict this.</p></li>
<li><p>Lemuridae show a weak and nearly flat relationship, indicating little change in day range length with increasing group size.</p></li>
<li><p>Hylobatidae and Indriidae again have very limited data points, making it difficult to infer any reliable within-family relationship.</p></li>
</ul>
</section>
<section id="plotting-the-relationship-between-canine-size-dimorphism-y-axis-and-body-size-dimorphism-x-axis" class="level4">
<h4 class="anchored" data-anchor-id="plotting-the-relationship-between-canine-size-dimorphism-y-axis-and-body-size-dimorphism-x-axis">6) Plotting the relationship between canine size dimorphism (y axis) and body size dimorphism (x axis)</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Overall plot (all species)</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>d<span class="ot">&lt;-</span>d[ <span class="fu">is.finite</span>(<span class="fu">log</span>(d<span class="sc">$</span>BSD)) <span class="sc">&amp;</span> <span class="fu">is.finite</span>(<span class="fu">log</span>(d<span class="sc">$</span>Canine_Dimorphism)), ] <span class="co"># Removing invalid values after log convrersion</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log</span>(BSD), <span class="at">y =</span> <span class="fu">log</span>(Canine_Dimorphism)))</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span>p<span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">alpha=</span><span class="fl">0.5</span>,<span class="at">color=</span><span class="st">"black"</span>,<span class="at">size=</span><span class="dv">4</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span>p<span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">method =</span> lm, <span class="at">se =</span> <span class="cn">FALSE</span>,<span class="at">na.em=</span><span class="cn">TRUE</span>)</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span>p<span class="sc">+</span><span class="fu">labs</span>(<span class="at">x=</span><span class="st">"log(body size dimorphism)"</span>, <span class="at">y=</span><span class="st">"log(canine size dimorphism)"</span>)</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="EDA-Challenge_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using a separate plot t represent one family</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>d<span class="ot">&lt;-</span>d[ <span class="fu">is.finite</span>(<span class="fu">log</span>(d<span class="sc">$</span> BSD)) <span class="sc">&amp;</span> <span class="fu">is.finite</span>(<span class="fu">log</span>(d<span class="sc">$</span>Canine_Dimorphism)), ] <span class="co"># Removing invalid values after log convrersion</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span><span class="fu">ggplot</span>(d, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log</span>(BSD), <span class="at">y =</span> <span class="fu">log</span>(Canine_Dimorphism)))</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span>p<span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">alpha=</span><span class="fl">0.5</span>,<span class="fu">aes</span>(<span class="at">color=</span><span class="fu">factor</span>(Family)),<span class="at">size=</span><span class="dv">2</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span>p<span class="sc">+</span> <span class="fu">geom_smooth</span>(<span class="at">method =</span> lm, <span class="at">se =</span> <span class="cn">FALSE</span>,<span class="at">na.em=</span><span class="cn">TRUE</span>)</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span>p<span class="sc">+</span> <span class="fu">facet_wrap</span>(<span class="sc">~</span> Family)</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span>p<span class="sc">+</span><span class="fu">labs</span>(<span class="at">x=</span><span class="st">"log(BSD)"</span>, <span class="at">y=</span><span class="st">"log(Canine_Dimorphism)"</span>)</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="EDA-Challenge_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(d<span class="sc">$</span>Family)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Atelidae"        "Cebidae"         "Cercopithecidae" "Lemuridae"      
[5] "Hominidae"       "Hylobatidae"     "Indriidae"      </code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(d<span class="sc">$</span>Species)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "caraya"       "palliata"     "seniculus"    "geoffroyi"    "arachnoides" 
 [6] "jacchus"      "capucinus"    "ascanius"     "diana"        "mitis"       
[11] "aethiops"     "angolensis"   "guereza"      "polykomos"    "coronatus"   
[16] "fulvus"       "mongoz"       "rubriventer"  "gorilla"      "lar"         
[21] "indri"        "lagotricha"   "albigena"     "fascicularis" "fuscata"     
[26] "mulatta"      "nigra"        "sylvanus"     "paniscus"     "troglodytes" 
[31] "anubis"       "cynocephalus" "hamadryas"    "ursinus"      "badius"      
[36] "kirkii"       "pygmaeus"     "fuscicollis"  "entellus"     "syndactylus" 
[41] "gelada"       "variegata"   </code></pre>
</div>
</div>
<p><strong>Do taxa with greater size dimorphism also show greater canine dimorphism?</strong></p>
<ul>
<li><p>Overall, we can see a positive relationship between body size dimorphism and canine dimorphism because the trending line’s slope is upward.</p></li>
<li><p>if we consider species within primate families, Cercopithecidae show a clear positive trend which tells us that species with higher body size dimorphism also tend to have higher canine dimorphism.</p></li>
<li><p>Hominidae show a weak positive trend, also Atelidae and Lemuridae show little to no clear relationship within the family.</p></li>
<li><p>One common limitations to above data visualizations is there are limited data points for some families which makes it harder to interpret a relationship between two variables accurately.</p></li>
</ul>
</section>
<section id="creating-a-new-variable-named-diet_strategy" class="level4">
<h4 class="anchored" data-anchor-id="creating-a-new-variable-named-diet_strategy">7) Creating a new variable named <strong>diet_strategy</strong></h4>
<p>( “frugivore” if fruits make up &gt;50% of the diet, “folivore” if leaves make up &gt;50% of the diet, and “omnivore” if diet data are available but neither of these is true (i.e., these values are not <code>NA</code>))</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a new variable named "diet_strategy"</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Using mutate function to add the new column</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>d1<span class="ot">&lt;-</span><span class="fu">mutate</span>(d, <span class="at">diet_strategy =</span> <span class="fu">ifelse</span>(Fruit <span class="sc">&gt;=</span> <span class="dv">50</span>, <span class="st">"frugivore"</span>, <span class="fu">ifelse</span>(Leaves <span class="sc">&gt;=</span> <span class="dv">50</span>, <span class="st">"folivore"</span>,</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ifelse</span>(Fruit <span class="sc">&lt;</span> <span class="dv">50</span> <span class="sc">&amp;</span> Leaves <span class="sc">&lt;</span> <span class="dv">50</span> <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(Fruit) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(Leaves), <span class="st">"omnivore"</span>, <span class="cn">NA</span>))))</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a><span class="co"># viewing the created column</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>d1<span class="sc">$</span>diet_strategy</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "folivore"  "folivore"  "omnivore"  "frugivore" "folivore"  "omnivore" 
 [7] "folivore"  "frugivore" "frugivore" "frugivore" "omnivore"  "folivore" 
[13] "folivore"  "folivore"  "frugivore" "frugivore" "frugivore" "frugivore"
[19] "folivore"  "frugivore" "folivore"  "frugivore" "frugivore" "frugivore"
[25] "omnivore"  "folivore"  NA          "omnivore"  NA          "frugivore"
[31] "omnivore"  "frugivore" "frugivore" NA          "omnivore"  "folivore" 
[37] "frugivore" "frugivore" "frugivore" "omnivore"  "folivore"  "frugivore"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># we need to remove the rows from the dataset where the diet_strategy is N/A for this</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Using subsetting</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>d2 <span class="ot">&lt;-</span> d1[<span class="sc">!</span><span class="fu">is.na</span>(d1<span class="sc">$</span>diet_strategy), ]</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>d2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 39 × 28
   Scientific_Name         Family          Genus  Species Brain_Size_Species_M…¹
   &lt;chr&gt;                   &lt;chr&gt;           &lt;chr&gt;  &lt;chr&gt;                    &lt;dbl&gt;
 1 Alouatta_caraya         Atelidae        Aloua… caraya                   52.6 
 2 Alouatta_palliata       Atelidae        Aloua… pallia…                  49.9 
 3 Alouatta_seniculus      Atelidae        Aloua… senicu…                  55.2 
 4 Ateles_geoffroyi        Atelidae        Ateles geoffr…                 105.  
 5 Brachyteles_arachnoides Atelidae        Brach… arachn…                 117.  
 6 Callithrix_jacchus      Cebidae         Calli… jacchus                   7.24
 7 Cebus_capucinus         Cebidae         Cebus  capuci…                  72.9 
 8 Cercopithecus_ascanius  Cercopithecidae Cerco… ascani…                  59.6 
 9 Cercopithecus_diana     Cercopithecidae Cerco… diana                    62.6 
10 Cercopithecus_mitis     Cercopithecidae Cerco… mitis                    71.3 
# ℹ 29 more rows
# ℹ abbreviated name: ¹​Brain_Size_Species_Mean
# ℹ 23 more variables: Body_mass_male_mean &lt;dbl&gt;, Body_mass_female_mean &lt;dbl&gt;,
#   MeanGroupSize &lt;dbl&gt;, AdultMales &lt;dbl&gt;, AdultFemale &lt;dbl&gt;,
#   GR_MidRangeLat_dd &lt;dbl&gt;, Precip_Mean_mm &lt;dbl&gt;, Temp_Mean_degC &lt;dbl&gt;,
#   HomeRange_km2 &lt;dbl&gt;, DayLength_km &lt;dbl&gt;, Fruit &lt;dbl&gt;, Leaves &lt;chr&gt;,
#   Fauna &lt;chr&gt;, Canine_Dimorphism &lt;dbl&gt;, Feed &lt;dbl&gt;, Move &lt;dbl&gt;, Rest &lt;dbl&gt;, …</code></pre>
</div>
</div>
</section>
<section id="creating-boxplots-of-group-size-for-species-with-different-dietary-strategies-omitting-the-category-na" class="level4">
<h4 class="anchored" data-anchor-id="creating-boxplots-of-group-size-for-species-with-different-dietary-strategies-omitting-the-category-na">Creating boxplots of group size for species with different dietary strategies, omitting the category <code>NA</code></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating boxplots of group size for species with different dietary strategies</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="co"># diet_strategy should be the x axis.</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> d2, <span class="fu">aes</span>(<span class="at">x =</span> diet_strategy, <span class="at">y =</span> MeanGroupSize))</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span> p<span class="sc">+</span> <span class="fu">geom_boxplot</span>(<span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span>p<span class="sc">+</span> <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>)) </span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>p<span class="ot">&lt;-</span>p<span class="sc">+</span> <span class="fu">labs</span>(<span class="at">x=</span> <span class="st">"diet_strategy"</span>, <span class="at">y=</span><span class="st">"Group Size (MeanGroupSize)"</span>)</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="EDA-Challenge_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p><strong>Do frugivores live in larger groups than folivores?</strong></p>
<p>Looking at the median lines of the boxplots of two categories, folivores have a slightly higher median line. This tells us that on average, folivore species live in somewhat larger groups than frugivores. But, the plot also tells us that frugivores have some very large group sized species as well because of the strong upper outliers. The largest group size of folivores are not that high as frugivores. We can also tell that the variability of group sizes in frugivores us higher then folivores too looking at the boxes.</p>
<p><strong>Question 8</strong></p>
<p>1) using mutate() to add a variable, Binomial to the data frame d, which is a concatenation of the Genus and Species variables</p>
<p>2) Using select() to trim the data frame to only include the variables Binomial, Family, Brain_size_species_mean, and Body_mass_male_mean</p>
<p>3) Using group_by() to group above variables by Family</p>
<p>4) Using summarise() to calculate the average value for Brain_Size_Species_Mean and Body_mass_male_mean per Family</p>
<p>5) using arrange() to arrange by <em>increasing</em> average brain size</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>d1<span class="ot">&lt;-</span>d <span class="sc">%&gt;%</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Binomial =</span> <span class="fu">paste</span>(Genus, Species)) <span class="sc">%&gt;%</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Binomial, Family, Brain_Size_Species_Mean, Body_mass_male_mean) <span class="sc">%&gt;%</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Family) <span class="sc">%&gt;%</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_brain =</span> <span class="fu">mean</span>(Brain_Size_Species_Mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_body  =</span> <span class="fu">mean</span>(Body_mass_male_mean, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(mean_brain)</span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>d1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 3
  Family          mean_brain mean_body
  &lt;chr&gt;                &lt;dbl&gt;     &lt;dbl&gt;
1 Lemuridae             25.0     2057.
2 Cebidae               29.4     1336.
3 Indriidae             34.8     5830 
4 Atelidae              79.3     7506.
5 Cercopithecidae       97.3    11979.
6 Hylobatidae          113.      8845.
7 Hominidae            394.     86276.</code></pre>
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>